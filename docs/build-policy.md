# ビルド設計・方針（2025年4月時点）

## 1. トップページ（Home）
- **方式：SSG（完全静的生成）**
- 理由：アクセス頻度が高く、内容も静的なため

## 2. スタイル一覧ページ（Styles List）
- **方式：SSG（完全静的生成）**
- 理由：更新頻度が低く、全体で1ページのみ。ビルド負荷・配信速度ともに最適。

## 3. 各スタイルの楽曲リストページ
- **方式：ハイブリッド（10% SSG + 90% ISR）**
  - 各スタイルごとに「最初の10%ページ」をSSGでビルド時に生成
  - 残りの90%ページはISR（初回アクセス時に生成・キャッシュ）
- 理由：全体ページ数が多いため、ビルド時間を大幅に短縮しつつ、アクセス頻度の高いページは高速配信

## 4. アーティストアルファベット索引ページ・アルファベット別アーティスト一覧ページ（Artists）
- **方式：SSG（完全静的生成）**
- 理由：インデックス・一覧ともに静的で十分、高速配信・SEOにも有利

## 5. アーティスト個別ページ
- **方式：ISR（インクリメンタル静的再生成）**
- 理由：アーティスト数が非常に多いため、ビルド時間・ストレージを最適化しつつ、必要なページのみオンデマンド生成

## 6. ジャンル一覧ページ（Genres List）
- **方式：SSG（完全静的生成）**
- 理由：ジャンル数が多くても1ページのみのためビルド負荷は小さく、静的生成で高速配信が可能。更新時のみ再ビルド。

## 7. 各ジャンルの楽曲リストページ
- **方式：ハイブリッド（1ページ目のみSSG + 2ページ目以降ISR）**
  - 各ジャンルごとに「最新の20曲（1ページ目）」のみSSGでビルド時に生成
  - 2ページ目以降はISR（初回アクセス時に生成・キャッシュ）
- 理由：ジャンル数・ページ数が多いため、ビルド時間を大幅に短縮しつつ、最新曲ページは高速配信

## 8. 曲詳細ページ
- **方式：ISR（インクリメンタル静的再生成）**
- 理由：曲数が非常に多いため、ビルド時間・ストレージを最適化しつつ、必要なページのみオンデマンド生成

## 9. Aboutページ（/info）
- **方式：SSG（完全静的生成）**
- 理由：1ページのみで内容も静的なため、ビルド負荷が小さく、高速配信が可能

---

### 補足
- すべてのデータは`public/data/`配下の静的JSONから取得
- サムネイル等の画像も`public/images/`配下から取得し、外部通信なし
- ISRの再検証時間（revalidate）は運用状況に応じて調整

---

**この方針により、ビルド時間の最適化・配信速度・運用コストのバランスが取れた構成となります。** 